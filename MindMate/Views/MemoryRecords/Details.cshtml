@model MindMate.Models.MemoryRecord
@{ ViewData["Title"] = "Memory Details"; }

<div class="mindmate-page-wrapper">
    <div class="container">
        <h1 class="mindmate-hero-title">Memory Details</h1>
        <p class="mindmate-subtitle">Shared on @Model.CreatedAt.ToString("f")</p>

        <div class="mindmate-card mx-auto p-0 overflow-hidden shadow-lg" style="max-width: 800px;">
            @if (!string.IsNullOrEmpty(Model.ImagePath)) {
                @* <img src="~/uploads/images/@Model.ImagePath" class="w-100" style="max-height: 500px; object-fit: cover;" /> *@
                <img src="/uploads/@Model.ImagePath" class="w-100" style="max-height: 500px; object-fit: cover;" />

            }
            
            <div class="p-5 text-center">
                <h2 class="mb-4 fw-bold" style="font-family: var(--font-heading); font-size: 36px;">@Model.Caption</h2>
                
                @if (!string.IsNullOrEmpty(Model.AudioPath)) {
                    <div class="mindmate-bg-light p-4 rounded-pill d-inline-block w-100 mb-4" style="background-color: var(--mindmate-bg-light);">
                        <label class="d-block mb-2 small fw-bold text-muted"><i class="bi bi-mic-fill"></i> Voice Recording</label>
                        <audio controls class="w-100">
                            @* <source src="~/uploads/audio/@Model.AudioPath" type="audio/mpeg"> *@
                            <source src="/uploads/@Model.AudioPath" type="audio/mpeg">
                        </audio>
                    </div>
                }

                <div class="d-flex justify-content-center gap-3 mt-4">
                    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-mindmate-main px-5">Edit</a>
                    <a asp-action="Index" asp-route-patientId="@Model.PatientId" class="btn btn-outline-secondary rounded-pill px-5">Gallery</a>
                </div>
            </div>
        </div>
    </div>
</div>